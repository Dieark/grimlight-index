"use strict";(self["webpackChunkgrimlight_index"]=self["webpackChunkgrimlight_index"]||[]).push([[869],{9352:function(e,n,t){t.d(n,{m:function(){return a}});t(7658);var l=t(9876),o=t(357);const a=(0,l.Q_)("spine",{state:()=>{const{unit:e}=(0,l.Jk)((0,o.n)());return{unit:e,isSpine:!1,players:[]}},actions:{setSpine(e,n){console.log(e,n);const t=document.getElementById(e);console.log(t),t.innerHTML="",console.log(t),this.player=new spine.SpinePlayer(e,{jsonUrl:`spine/${n}.json`,atlasUrl:`spine/${n}.atlas`,backgroundColor:"#00000000",defaultMix:.4,animation:"idle",showControls:!1,premultipliedAlpha:!0,alpha:!0,viewport:{debugRender:!1,transitionTime:1}})},setSpine_SD(){console.log(this.unit.SD.slice().reverse()),this.unit.SD.slice().reverse().forEach(((e,n)=>{console.log(e),null!=e&&(this.setSpine("spine_SD_"+(this.unit.SD.length-n-1),e),this.players.push(this.player))}))},squad_SD(e){console.log(e),this.setSpine("drag_"+e,e),this.players.push(this.player)},changeAnimation(e){this.players.forEach(((n,t)=>{n.animationState.setAnimation(0,e,!0,0),n.animationState.addAnimation(0,"idle",!0,3)}))},storyUse(e,n){const t=document.getElementById(n);""==e?t.innerHTML="":(t.innerHTML="",this.player=new spine.SpinePlayer(n,{jsonUrl:`spine/${e}.json`,atlasUrl:`spine/${e}.atlas`,backgroundColor:"#00000000",showControls:!1,premultipliedAlpha:!0,alpha:!0,viewport:{debugRender:!1}}))}}})},5800:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var l=t(6252);const o={class:"container"};function a(e,n,t,a,s,i){const r=(0,l.up)("AbyssTower");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(r)])}var s=t(1891),i=t(534);const r=e=>((0,l.dD)("data-v-686eb458"),e=e(),(0,l.Cn)(),e),d=r((()=>(0,l._)("div",{class:"row justify-content-center"},[(0,l._)("div",{class:"col-md-8 offset-md-auto col-10"},[(0,l._)("table",{class:"table table-bordered"},[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",{id:"div0",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div1",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div2",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div3",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",{id:"div4",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div5",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div6",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div7",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",{id:"div8",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div9",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div10",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})]),(0,l._)("td",null,[(0,l._)("div",{id:"div11",class:"squad",ondrop:"drop(event)",ondragover:"allowDrop(event)"})])])])])])],-1))),u={class:"card text-center h-100",style:{position:"relative",display:"flex"}},v=["id","src"],c=["id"];function p(e,n,t,o,a,s){return(0,l.wg)(),(0,l.iD)(l.HY,null,[d,(0,l._)("div",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.unitsFilter,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"col-4 col-md-2 p-0 mb-1",style:{display:"inline-block"},key:e.Name[o.language]},[(0,l._)("div",u,[(0,l._)("img",{id:e.SD[0],onMousedown:n[0]||(n[0]=(...e)=>o.toSD&&o.toSD(...e)),draggable:"true",ondragstart:"drag(event)",src:`img/UI_Card/${e.Imgs[0]}`,alt:""},null,40,v),(0,l._)("div",{id:`drag_${e.SD[0]}`,class:"dragTarget",draggable:"true",ondragstart:"drag(event)"},null,8,c)])])))),128))])],64)}var g=t(2262),h=t(7199),m=t(357),_=t(9352),w=t(9876),D=t(964),f={name:"AbyssTower",setup(){const{isMobile:e}=(0,w.Jk)((0,h.X)()),{language:n}=(0,w.Jk)((0,i.Z)()),{isSpine:t}=(0,w.Jk)((0,_.m)()),{unit:o,searchName:a,searchSkill:s,elementBtns:r,classBtns:d,elementList:u,classList:v,sortList:c}=(0,w.Jk)((0,m.n)());$(document).ready((function(){$(this).on("click",".setBtn",(function(){$(this).children().toggle()})),$(this).on("click","#filterBtn4",(function(){$(this).toggle(),$(this).siblings("#filterBtn5").toggle()})),$(this).on("click","#filterBtn5",(function(){$(this).toggle(),$(this).siblings("#filterBtn6").toggle()})),$(this).on("click","#filterBtn6",(function(){$(this).toggle(),$(this).siblings("#filterBtn4").toggle()}))})),r.value=[!1,!1,!1,!1,!1],d.value=[!1,!1,!1,!1,!1,!1],a.value="",s.value="";const p=(0,g.iH)("Update"),f=(e,t)=>"ATK"==p.value?t.ATK-e.ATK:"DEF"==p.value?t.DEF-e.DEF:"HP"==p.value?t.HP-e.HP:"Name"==p.value?e.Name[n.value]<t.Name[n.value]?-1:e.Name[n.value]>t.Name[n.value]?1:0:"Update"==p.value?e.Cname>t.Cname?-1:e.Cname<t.Cname?1:0:void 0,C=(0,l.Fl)((()=>D.sort(((e,n)=>f(e,n))).filter((e=>{var t=r.value[u.value.indexOf(e.Element[0])]||!r.value.includes(!0),l=d.value[v.value.indexOf(e.Class[0])]||!d.value.includes(!0),o=e.Name[n.value].toLowerCase().includes(a.value.toLowerCase());if(e.ActiveDescription.length>0&&e.PassiveDescription.length>0){var i=e.ActiveDescription[n.value][0].toLowerCase().includes(s.value.toLowerCase()),c=e.PassiveDescription[n.value][0].toLowerCase().includes(s.value.toLowerCase()),g=!1;e.TraitsDescription.forEach((e=>{g=g||e[n.value].toLowerCase().includes(s.value.toLowerCase())}))}else i=e.Name[n.value].toLowerCase().includes(s.value.toLowerCase()),c=e.Name[n.value].toLowerCase().includes(s.value.toLowerCase()),g=e.Name[n.value].toLowerCase().includes(s.value.toLowerCase());return t&&l&&o&&(i||c||g)&&p}))));function b(e){console.log(e.target.id),(0,_.m)().squad_SD(e.target.id)}return{language:n,isMobile:e,isSpine:t,unit:o,unitsFilter:C,toSD:b}}},C=t(3744);const b=(0,C.Z)(f,[["render",p],["__scopeId","data-v-686eb458"]]);var y=b,S={name:"EquipmentView",components:{AbyssTower:y},setup(){const{language:e}=(0,w.Jk)((0,i.Z)());(0,i.Z)().changeLanguage(),(0,l.YP)(e,(e=>{(0,i.Z)().changeLanguage(),(0,s.t)().changeLanguage(e)}))}};const L=(0,C.Z)(S,[["render",a]]);var k=L}}]);
//# sourceMappingURL=abyss.1f263610.js.map